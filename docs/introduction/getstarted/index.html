<!doctype html>
<html lang="en-US">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="preload" as="font" href="https://d2a4u.github.io/meteor/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="https://d2a4u.github.io/meteor/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="https://d2a4u.github.io/meteor/main.fc69be714f47216f5aeabd125b560e7a376679049a184553bbff42c82cad02132dbbdd701b8ae1477e7af79e85a9916e2d2f0a865ac1ae699f76354a8bc11d93.css" integrity="sha512-/Gm&#43;cU9HIW9a6r0SW1YOejdmeQSaGEVTu/9CyCytAhMtu91wG4rhR356956FqZFuLS8KhlrBrmmfdjVKi8Edkw==" crossorigin="anonymous">
<noscript><style>img.lazyload { display: none; }</style></noscript>
  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <title>Get Started - meteor</title>
<meta name="description" content="A Scala wrapper for AWS SDK 2 DynamoDB library using cats effect and fs2.">
<link rel="canonical" href="https://d2a4u.github.io/meteor/docs/introduction/getstarted/">
<meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Get Started">
<meta name="twitter:description" content="meteor is a wrapper around Java AWS SDK v2 library, provides higher level API over standard DynamoDB&rsquo;s operations such as batch write or scan table as fs2 Stream, auto processes left over items and many other features.
Installation Add the following to your build.sbt, see the badge on homepage for latest version. Supports Scala 2.12 and 2.13.
libraryDependencies &#43;= &#34;io.github.d2a4u&#34; %% &#34;meteor-awssdk&#34; % &#34;LATEST_VERSION&#34; Modules Scanamo Format Note: Only version 1.">

<meta name="twitter:site" content="@">
<meta name="twitter:creator" content="@">

<meta property="og:title" content="Get Started">
<meta property="og:description" content="meteor is a wrapper around Java AWS SDK v2 library, provides higher level API over standard DynamoDB&rsquo;s operations such as batch write or scan table as fs2 Stream, auto processes left over items and many other features.
Installation Add the following to your build.sbt, see the badge on homepage for latest version. Supports Scala 2.12 and 2.13.
libraryDependencies &#43;= &#34;io.github.d2a4u&#34; %% &#34;meteor-awssdk&#34; % &#34;LATEST_VERSION&#34; Modules Scanamo Format Note: Only version 1.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://d2a4u.github.io/meteor/docs/introduction/getstarted/">

  <meta property="article:published_time" content="2021-01-25T23:54:06+00:00">
  <meta property="article:modified_time" content="2021-01-25T23:54:06+00:00">
  <meta property="og:site_name" content="meteor">

<meta property="article:publisher" content="https://www.facebook.com/">
<meta property="article:author" content="https://www.facebook.com/">
<meta property="og:locale" content="">

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "name": "Home",
        "item": "https:\/\/d2a4u.github.io\/meteor\/"
    },{
        "@type": "ListItem",
        "position":  2 ,
        "name": "Docs",
        "item": "https:\/\/d2a4u.github.io\/meteor\/docs\/"
    },{
        "@type": "ListItem",
        "position":  3 ,
        "name": "Introduction",
        "item": "https:\/\/d2a4u.github.io\/meteor\/docs\/introduction\/"
    },{
        "@type": "ListItem",
        "position":  4 ,
        "name": "Getstarted",
        "item": "https:\/\/d2a4u.github.io\/meteor\/docs\/introduction\/getstarted\/"
    }]
}
</script>

  <meta name="theme-color" content="#fff">
<link rel="apple-touch-icon" sizes="180x180" href="https://d2a4u.github.io/meteor/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://d2a4u.github.io/meteor/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://d2a4u.github.io/meteor/favicon-16x16.png">
<link rel="manifest" href="https://d2a4u.github.io/meteor/site.webmanifest">
  
</head>
  <body class="docs single">
    <div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
  <div class="container">
    <input class="menu-btn order-0" type="checkbox" id="menu-btn">
    <label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
    <a class="navbar-brand order-1 order-md-0 mr-auto" href="https://d2a4u.github.io/meteor/">meteor</a>
    <button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
      <span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
      <span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
    </button>
    <ul class="navbar-nav social-nav order-3 order-md-5">
      <li class="nav-item">
          <a class="nav-link" href="https://github.com/d2a4u/meteor"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ml-2 sr-only">GitHub</span></a>
        </li>
      </ul>
    <div class="collapse navbar-collapse order-4 order-md-1">
      <ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class="nav-item active">
            <a class="nav-link" href="https://d2a4u.github.io/meteor/docs/introduction/getstarted/">Docs</a>
          </li>
        </ul>
      <div class="break order-6 d-md-none"></div>
      <form class="navbar-form flex-grow-1 order-7 order-md-3">
        <input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..." aria-label="Search docs..." autocomplete="off">
        <div id="suggestions" class="shadow bg-white rounded"></div>
      </form>
    </div>
  </div>
</header>
    <div class="wrap container" role="document">
      <div class="content">
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar">
			<nav class="docs-links" aria-label="Main navigation">
				<h3>Introduction</h3>
  <ul class="list-unstyled">
    <li><a class="docs-link active" href="https://d2a4u.github.io/meteor/docs/introduction/getstarted/">Get Started</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/introduction/helloworld/">Hello World</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/introduction/runtests/">Build and Tests</a></li>
    </ul>
  <h3>Codec</h3>
  <ul class="list-unstyled">
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/codec/meteor/">meteor Codec</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/codec/dynosaur/">Dynosaur Schema</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/codec/scanamo/">Scanamo Format</a></li>
    </ul>
  <h3>API</h3>
  <ul class="list-unstyled">
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/api/expression/">Expression</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/api/highlevel/">High Level API</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/api/itemactions/">Item Actions</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/api/batchactions/">Batch Actions</a></li>
    <li><a class="docs-link" href="https://d2a4u.github.io/meteor/docs/api/tableactions/">Table Actions</a></li>
    </ul>
  
			</nav>        
		</div>
		<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="page-links">
    <h3>On this page</h3>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#installation">Installation</a>
      <ul>
        <li><a href="#modules">Modules</a></li>
      </ul>
    </li>
    <li><a href="#optimisation">Optimisation</a></li>
  </ul>
</nav>
  </div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		<h1>Get Started</h1>
			<p class="lead"></p>
			<p><code>meteor</code> is a wrapper around Java AWS SDK v2 library, provides higher level
API over standard DynamoDB&rsquo;s operations such as batch write or scan table
as <code>fs2</code> Stream, auto processes left over items and many other features.</p>
<h2 id="installation">Installation<a href="#installation" class="anchor" aria-hidden="true">#</a> </h2>
<p>Add the following to your <code>build.sbt</code>, see the badge on homepage for latest version. Supports Scala
2.12 and 2.13.</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&#34;io.github.d2a4u&#34;</span> <span class="o">%%</span> <span class="s">&#34;meteor-awssdk&#34;</span> <span class="o">%</span> <span class="s">&#34;LATEST_VERSION&#34;</span>
</code></pre></div><h3 id="modules">Modules<a href="#modules" class="anchor" aria-hidden="true">#</a> </h3>
<h4 id="scanamo-formathttpsgithubcomscanamoscanamo"><a href="https://github.com/scanamo/scanamo">Scanamo Format</a><a href="#scanamo-formathttpsgithubcomscanamoscanamo" class="anchor" aria-hidden="true">#</a> </h4>
<p><strong>Note:</strong> Only version <code>1.0.0-M11</code> is supported because in my experience, this is the most stable version of
<code>Scanamo</code>. However, because it is an older version when DynamoDB&rsquo;s did not support empty
String, this version of <code>Scanamo</code> serializes these cases: <code>&quot;&quot;</code>, <code>None</code> and <code>Some(&quot;&quot;)</code> to Dynamo&rsquo;s
<code>NULL</code>. This is problematic because once the value is written down, reading it back is difficult.</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&#34;io.github.d2a4u&#34;</span> <span class="o">%%</span> <span class="s">&#34;meteor-scanamo&#34;</span> <span class="o">%</span> <span class="s">&#34;LATEST_VERSION&#34;</span>
</code></pre></div><h4 id="dynosaur-codecshttpssystemfworgdynosaur"><a href="https://systemfw.org/dynosaur">Dynosaur Codecs</a><a href="#dynosaur-codecshttpssystemfworgdynosaur" class="anchor" aria-hidden="true">#</a> </h4>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&#34;io.github.d2a4u&#34;</span> <span class="o">%%</span> <span class="s">&#34;meteor-dynosaur&#34;</span> <span class="o">%</span> <span class="s">&#34;LATEST_VERSION&#34;</span>
</code></pre></div><h2 id="optimisation">Optimisation<a href="#optimisation" class="anchor" aria-hidden="true">#</a> </h2>
<p><code>meteor</code> uses AWS SDK v2 <code>DynamoDbAsyncClient</code> under the hood to make calls to the underline Java
API. The <code>DynamoDbAsyncClient</code> internally create a <code>NettyNioAsyncHttpClient</code> with a default value
for maximum connections of 50. This can be increased depending on the hardware/virtual machine
configuration. There is also an alternative <a href="https://aws.amazon.com/about-aws/whats-new/2020/09/aws-crt-http-client-in-aws-sdk-for-java-2x/">AWS CRT HTTP client</a>
that can be used and tuned similarly. The official documentation can be found <a href="https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-netty.html">here</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">cats.effect._</span>
<span class="k">import</span> <span class="nn">meteor.Client</span>
<span class="k">import</span> <span class="nn">io.netty.channel.ChannelOption</span>
<span class="k">import</span> <span class="nn">software.amazon.awssdk.http.SdkHttpClient</span>
<span class="k">import</span> <span class="nn">software.amazon.awssdk.http.nio.netty.NettyNioAsyncHttpClient</span>
<span class="k">import</span> <span class="nn">software.amazon.awssdk.services.dynamodb.DynamoDbClient</span>

<span class="k">val</span> <span class="n">httpClientSrc</span> <span class="k">=</span> <span class="nc">Resource</span><span class="o">.</span><span class="n">fromAutoCloseable</span><span class="o">(</span>
  <span class="nc">IO</span> <span class="o">{</span>
    <span class="nc">NettyNioAsyncHttpClient</span>
      <span class="o">.</span><span class="n">builder</span><span class="o">()</span>
      <span class="o">.</span><span class="n">putChannelOption</span><span class="o">(</span><span class="nc">ChannelOption</span><span class="o">.</span><span class="nc">SO_KEEPALIVE</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span>
      <span class="o">.</span><span class="n">maxConcurrency</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>
      <span class="o">.</span><span class="n">maxPendingConnectionAcquires</span><span class="o">(</span><span class="mi">10000</span><span class="o">).</span><span class="n">build</span><span class="o">()</span>
  <span class="o">}</span>
<span class="o">)</span>

<span class="k">def</span> <span class="n">sdkDynamoClientSrc</span><span class="o">(</span><span class="n">http</span><span class="k">:</span> <span class="kt">SdkHttpClient</span><span class="o">)</span> <span class="k">=</span>
  <span class="nc">Resource</span><span class="o">.</span><span class="n">fromAutoCloseable</span><span class="o">(</span>
    <span class="nc">IO</span> <span class="o">{</span>
      <span class="nc">DynamoDbClient</span><span class="o">.</span><span class="n">builder</span><span class="o">().</span><span class="n">httpClient</span><span class="o">(</span><span class="n">http</span><span class="o">).</span><span class="n">build</span><span class="o">()</span>
    <span class="o">}</span>
  <span class="o">)</span>

<span class="k">val</span> <span class="n">clientSrc</span> <span class="k">=</span>
  <span class="k">for</span> <span class="o">{</span>
    <span class="n">http</span> <span class="k">&lt;-</span> <span class="n">httpClientSrc</span>
    <span class="n">sdkClient</span> <span class="k">&lt;-</span><span class="n">sdkDynamoClientSrc</span><span class="o">(</span><span class="n">http</span><span class="o">)</span>
  <span class="o">}</span> <span class="k">yield</span> <span class="nc">Client</span><span class="o">[</span><span class="kt">IO</span><span class="o">](</span><span class="n">sdkClient</span><span class="o">)</span>
</code></pre></div>
			<div class="docs-navigation d-flex justify-content-between">
	
	<a class="ml-auto" href="https://d2a4u.github.io/meteor/docs/introduction/helloworld/">
			<div class="card my-1">
				<div class="card-body py-2">
					Hello World &rarr;
				</div>
			</div>
		</a>
	</div>

		</main>
	</div>

      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 order-last order-lg-first">
        <ul class="list-inline">
          <li class="list-inline-item"></li>
        </ul>
      </div>
      <div class="col-lg-8 order-first order-lg-last text-lg-right">
        <ul class="list-inline">
          </ul>
      </div>
    </div>
  </div>
</footer>
    
    <script src="https://d2a4u.github.io/meteor/main.f6b484f556ad1f3bcf6061082139a2f21fa759f13930c39a25fe4a9f78f35e64122c2d86dffd56e67b292dabbda4095d8077194f196e0e348441c106a9f3d40e.js" integrity="sha512-9rSE9VatHzvPYGEIITmi8h&#43;nWfE5MMOaJf5Kn3jzXmQSLC2G3/1W5nspLau9pAldgHcZTxluDjSEQcEGqfPUDg==" crossorigin="anonymous" defer></script>
  <script src="https://d2a4u.github.io/meteor/index.min.21b38649dddcbc5f1551b99eba8c445501531f3e9c980ff0ac3bf7ab95dbe78d72998524d8b013c5bf8f12795806a82bafd4dddb61e97b2328d9ec4182652502.js" integrity="sha512-IbOGSd3cvF8VUbmeuoxEVQFTHz6cmA/wrDv3q5Xb541ymYUk2LATxb&#43;PEnlYBqgrr9Td22HpeyMo2exBgmUlAg==" crossorigin="anonymous" defer></script>

  </body>
</html>